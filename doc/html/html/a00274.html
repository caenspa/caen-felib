<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAEN FE Library: LabVIEW</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="caen_logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CAEN FE Library<span id="projectnumber">&#160;v1.3.1</span>
   </div>
   <div id="projectbrief">SDK for new generation digitizers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('a00274.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">LabVIEW </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md31">Description</a></li>
<li class="level1"><a href="#autotoc_md32">Requirements</a></li>
<li class="level1"><a href="#autotoc_md33">Installer</a></li>
<li class="level1"><a href="#autotoc_md34">CAEN FELib VIs</a><ul><li class="level2"><a href="#autotoc_md35">LabVIEW Cluster</a></li>
<li class="level2"><a href="#autotoc_md36">Pointer to Pointer in LabVIEW</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md__builds_software_frontend_caen_felib_labview_LABVIEW"></a></p>
<h1><a class="anchor" id="autotoc_md31"></a>
Description</h1>
<p >CAEN provides also a LabVIEW wrapper of the CAEN FELib for LabVIEW developers who wants to develop their own DAQ for the X27XX digitizer family.</p>
<h1><a class="anchor" id="autotoc_md32"></a>
Requirements</h1>
<p >The CAEN FELib LabVIEW package requires:</p>
<ul>
<li>CAEN FELib Library</li>
<li>CAEN Dig2 Library (in case of X27XX digitizers)</li>
<li>CAEN Dig1 Library (in case of V17XX/DT57XX/N67XX digitizers)</li>
<li>Third-party software LabVIEW 2017 or higher</li>
</ul>
<h1><a class="anchor" id="autotoc_md33"></a>
Installer</h1>
<p >The CAEN FELib LabVIEW wrapper can be installed by selecting the appropriate component during installation.</p>
<p ><img src="./installer.png" alt="" width="50%" height="50%" class="inline"/></p>
<p >The LabVIEW VIs are installed by default in the <code>C:\Program Files\CAEN\Digitizers\CAEN FELib\labview\CAEN_FELib\VIs</code> folder, while the demo provided is installed in the <code>C:\Program Files\CAEN\Digitizers\CAEN FELib\labview\examples</code> folder.</p>
<h1><a class="anchor" id="autotoc_md34"></a>
CAEN FELib VIs</h1>
<p >The CAEN FELib VIs are the LabVIEW implementations of the various C APIs provided by the library. Examples of small applications implemented with the CAEN FELib LabVIEW VIs can be found in the provided demos (one for each firmware). As also shown in the demos there are two issues that cames out working in LabVIEW in comparison with the C language:</p>
<ol type="1">
<li>The <a class="el" href="a00092.html#ga3513d9316bfabd58fd9680f76c07985c" title="Read the data provided by an endpoint node.">CAEN_FELib_ReadData()</a> is a variadic function.</li>
<li>The <a class="el" href="a00092.html#ga3513d9316bfabd58fd9680f76c07985c" title="Read the data provided by an endpoint node.">CAEN_FELib_ReadData()</a> with the Scope Endpoint requires a Pointer to Pointer as argument to store the Waveforms.</li>
</ol>
<h2><a class="anchor" id="autotoc_md35"></a>
LabVIEW Cluster</h2>
<p >The issue with the variadic function has been resolved using a Cluster, as illustrated in the image below (example taken from the demo scope):</p>
<p ><img src="./labview_cluster_1.png" alt="" width="50%" height="50%" class="inline"/></p>
<p >The Cluster is then passed as argumnent of the <a class="el" href="a00092.html#ga3513d9316bfabd58fd9680f76c07985c" title="Read the data provided by an endpoint node.">CAEN_FELib_ReadData()</a> as follows:</p>
<p ><img src="./labview_cluster_2.png" alt="" width="100%" height="100%" class="inline"/></p>
<p >Obviously the cluster can be customized with the endpoint fields defined for the application is use.</p>
<h2><a class="anchor" id="autotoc_md36"></a>
Pointer to Pointer in LabVIEW</h2>
<p >The <a class="el" href="a00092.html#ga3513d9316bfabd58fd9680f76c07985c" title="Read the data provided by an endpoint node.">CAEN_FELib_ReadData()</a> function with the scope endpoint returns data as a pointer (or reference) to the memory address holding the actual data. Programmers can obtain the value at the memory address by dereferencing the pointer. However, since LabVIEW abstracts memory management from the user, LabVIEW users need an alternative mechanism to dereference the pointer. To address this issue, the Create_Pointer() VI has been implemented.</p>
<p ><img src="./CAEN__FELib_lvlib_Create_Pointersc.png" alt="" width="50%" height="50%" class="inline"/></p>
<p >The function accepts the number of channels and the number of samples for the acquisition as inputs and returns two arrays with dimensions corresponding to the number of channels. The first array, called the Size Array, contains the sizes, and the second array, called Pointer Array, contains the addresses of the allocated memory. Once the memory for the acquisition has been allocated, the Pointer Array can be passed to the <a class="el" href="a00092.html#ga3513d9316bfabd58fd9680f76c07985c" title="Read the data provided by an endpoint node.">CAEN_FELib_ReadData()</a> function. At this point, the Pointer Array is passed to the Copy_Buffer VI, allowing the user to copy the waveform values to a preallocated buffer that can be utilized by the user for the analisys.</p>
<p ><img src="./CAEN__FELib_lvlib_Copy_Bufferc.png" alt="" width="50%" height="50%" class="inline"/></p>
<p >At the end of the program, the allocated memory is freed by the Dispose Pointer, defined as follows:</p>
<p ><img src="./CAEN__FELib_lvlib_Dispose_Pointersc.png" alt="" width="50%" height="50%" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 12 2024 09:31:11 for CAEN FE Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
